# Task List

## ðŸ“‹ Backlog (To Do)
### Phase 1: Persistence Fixes & Backend Metadata
- [ ] Create migration to allow 'archived' status and add user_id defaults
- [ ] Fix `POST /api/leads/[cid]/notes` to include `user_id`
- [ ] Fix `PATCH /api/leads/[cid]/status` to include `user_id`
- [ ] Modify main leads API to return `crm_status` and `notes_count`

### Phase 2: Table UI â€“ Space-Saving Status & Notes Badge
- [ ] Implement status-colored checkbox borders
- [ ] Add notes badge indicator to lead titles
- [ ] Add "Show Archived" toggle in filter bar

### Phase 3: Archive Workflow
- [ ] Replace "Delete Selected" with bulk Archive
- [ ] Add Archive button to Detail Panel quick actions

### Phase 4: Detail Panel UX
- [ ] Make notes input field expandable via button
- [ ] Simplify notes timeline (date-only)
- [ ] Condense CRM section padding

## ðŸŸ¡ In Progress
- [/] Planning CRM Feature Improvements

## âœ… Done
- [x] Infinite scroll implementation
- [x] Lead Detail Panel layout + initial condensation
